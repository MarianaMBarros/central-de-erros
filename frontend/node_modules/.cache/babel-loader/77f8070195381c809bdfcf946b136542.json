{"ast":null,"code":"var _jsxFileName = \"/home/mariana/codenation/csharp-central-erro/frontend/src/pages/Error/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport api from \"../../services/api\";\nimport Header from \"../Header/index\";\nimport file from \"../../img/file.png\";\nimport delet from \"../../img/delete.png\";\nimport arrow from \"../../img/arrow.png\";\nimport \"./styles.css\";\n\nconst Error = () => {\n  const history = useHistory();\n  const [log, setLog] = useState({});\n  let {\n    id\n  } = useParams();\n  console.log(\"id\", id);\n  const token = localStorage.getItem(\"@@central-accessToken\");\n  useEffect(() => {\n    api.get(`logs/${id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      setLog(response.data);\n    }).catch(e => {\n      alert(\"ocorreu um erro ao tentar obter os dados\");\n    });\n  }, [id, token]);\n\n  async function handleRemove() {\n    try {\n      const response = await api.delete(`logs/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      alert(`Item excluído com sucesso`);\n      history.push(\"/home\");\n    } catch (error) {\n      alert(\"ocorreu um erro ao tentar excluir o item\");\n    }\n  }\n\n  function onClickBack() {\n    history.push(\"/home\");\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div-back\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"span-icon\",\n    onClick: onClickBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-icon\",\n    src: arrow,\n    alt: \"arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }), \"Voltar\")), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"title-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, \"Erro no \", log.host, \" em \", log.createdAt), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cont\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"event\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, \"T\\xEDtulo\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, log.title)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"oi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, \"Detalhes\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, log.description))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div-situation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"situation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \" \", log.level), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, \"Eventos\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, log.event), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, \"Coletado Por:\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, \"Token: \", log.userToken))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"span-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-icon\",\n    src: file,\n    alt: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }), \" Arquivar\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"span-icon\",\n    onClick: handleRemove,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-icon\",\n    src: delet,\n    alt: \"delet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }), \" Excluir\")));\n};\n\nexport default Error;","map":{"version":3,"sources":["/home/mariana/codenation/csharp-central-erro/frontend/src/pages/Error/index.js"],"names":["React","useEffect","useState","useHistory","useParams","api","Header","file","delet","arrow","Error","history","log","setLog","id","console","token","localStorage","getItem","get","headers","Authorization","then","response","data","catch","e","alert","handleRemove","delete","push","error","onClickBack","host","createdAt","title","description","level","event","userToken"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport api from \"../../services/api\";\n\nimport Header from \"../Header/index\";\nimport file from \"../../img/file.png\";\nimport delet from \"../../img/delete.png\";\nimport arrow from \"../../img/arrow.png\";\nimport \"./styles.css\";\n\nconst Error = () => {\n  const history = useHistory();\n  const [log, setLog] = useState({});\n  let { id } = useParams();\n  console.log(\"id\", id);\n  const token = localStorage.getItem(\"@@central-accessToken\");\n\n  useEffect(() => {\n    api\n      .get(`logs/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((response) => {\n        setLog(response.data);\n      })\n      .catch((e) => {\n        alert(\"ocorreu um erro ao tentar obter os dados\");\n      });\n  }, [id, token]);\n\n  async function handleRemove() {\n    try {\n      const response = await api.delete(`logs/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      alert(`Item excluído com sucesso`);\n      history.push(\"/home\");\n    } catch (error) {\n      alert(\"ocorreu um erro ao tentar excluir o item\");\n    }\n  }\n\n  function onClickBack() {\n    history.push(\"/home\");\n  }\n\n  return (\n    <>\n      <Header />\n      <div className=\"div-back\">\n        <span className=\"span-icon\" onClick={onClickBack}>\n          <img className=\"img-icon\" src={arrow} alt=\"arrow\" />\n          Voltar\n        </span>\n      </div>\n      <h3 className=\"title-error\">\n        Erro no {log.host} em {log.createdAt}\n      </h3>\n      <div className=\"container-error\">\n        <div className=\"cont\">\n          <div className=\"event\">\n            <div>\n              <h3>Título</h3>\n              <span>{log.title}</span>\n            </div>\n            <div className=\"oi\">\n              <h3>Detalhes</h3>\n              <span>{log.description}</span>\n            </div>\n          </div>\n          <div className=\"div-situation\">\n            <span className=\"situation\"> {log.level}</span>\n            <div className=\"detail\">\n              <h3>Eventos</h3>\n              <span>{log.event}</span>\n\n              <h3>Coletado Por:</h3>\n              <span>Token: {log.userToken}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"div-error\">\n        <span className=\"span-icon\">\n          <img className=\"img-icon\" src={file} alt=\"file\" /> Arquivar\n        </span>\n        <span className=\"span-icon\" onClick={handleRemove}>\n          <img className=\"img-icon\" src={delet} alt=\"delet\" /> Excluir\n        </span>\n      </div>\n    </>\n  );\n};\nexport default Error;\n"]},"metadata":{},"sourceType":"module"}