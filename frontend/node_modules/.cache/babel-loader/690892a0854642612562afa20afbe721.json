{"ast":null,"code":"var _jsxFileName = \"/home/mariana/codenation/csharp-central-erro/frontend/src/pages/Home/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport api from \"../../services/api\";\nimport { InputText, Checkbox, Button } from \"../../components/components\";\nimport Header from \"../Header/index\";\nimport file from \"../../img/file.png\";\nimport delet from \"../../img/delete.png\";\nimport arrow from \"../../img/arrow.png\";\nimport arrowRight from \"../../img/arrowRight.png\";\nimport \"./styles.css\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Home = () => {\n  const history = useHistory();\n  const [erros, setErros] = useState([]);\n  const [environment, setEnvironment] = useState(\"1\");\n  const [searchBy, setSearchBy] = useState(\"\");\n  const [orderBy, setOrderBy] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const token = localStorage.getItem(\"@@central-accessToken\");\n  useEffect(() => {\n    api.get(\"logs?environment=1\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      setErros(response.data);\n    }).catch(e => {\n      alert(\"ocorreu um erro ao tentar obter os dados\");\n    });\n  }, [token]);\n\n  async function handleSearch() {\n    let url = `logs?environment=${environment}`;\n    if (searchBy) url += `&searchBy=${searchBy}`;\n    if (orderBy) url += `&orderBy=${orderBy}`;\n    if (search) url += `&search=${search}`;\n\n    try {\n      const response = await api.get(url, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setErros(response.data);\n    } catch (error) {\n      alert(\"ocorreu um erro ao tentar obter os dados\");\n    }\n  }\n\n  function handleDetail(id) {\n    console.log(id);\n    history.push(`/error/${id}`);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setEnvironment(e.currentTarget.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"Produ\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"Homologa\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Dev\")), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setOrderBy(e.currentTarget.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"Ordenar\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Nivel\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Frequ\\xEAncia\")), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setSearchBy(e.currentTarget.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"Buscar\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"Level\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Descri\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"Origem\")), /*#__PURE__*/React.createElement(InputText, {\n    type: \"text\",\n    placeholder: \"Pesquisar\",\n    className: \"search-input\",\n    onChange: e => setSearch(e.currentTarget.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"button\",\n    name: \"Buscar\",\n    onClick: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"span-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-icon\",\n    src: file,\n    alt: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }), \" Arquivar\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"span-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-icon\",\n    src: delet,\n    alt: \"delet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }), \" Excluir\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tbl-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"Nivel\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, \"Origem\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, \"Data\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, \"Descri\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, \"Eventos\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, erros.map(error => /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }\n  }, error.level), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 19\n    }\n  }, \" \", error.host), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  }, \" \", error.createdAt), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, \" \", error.description), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }, \" \", error.event), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"th-icon\",\n    onClick: () => handleDetail(error.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, \"Exibir\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"div-pages-home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"span-icon-home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, \" \", \"0 - 10\", /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-icon-arrow\",\n    src: arrow,\n    alt: \"arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-icon-arrow\",\n    src: arrowRight,\n    alt: \"arrowRight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/mariana/codenation/csharp-central-erro/frontend/src/pages/Home/index.js"],"names":["React","useEffect","useState","api","InputText","Checkbox","Button","Header","file","delet","arrow","arrowRight","useHistory","Home","history","erros","setErros","environment","setEnvironment","searchBy","setSearchBy","orderBy","setOrderBy","search","setSearch","token","localStorage","getItem","get","headers","Authorization","then","response","data","catch","e","alert","handleSearch","url","error","handleDetail","id","console","log","push","currentTarget","value","map","level","host","createdAt","description","event"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport api from \"../../services/api\";\n\nimport { InputText, Checkbox, Button } from \"../../components/components\";\nimport Header from \"../Header/index\";\nimport file from \"../../img/file.png\";\nimport delet from \"../../img/delete.png\";\nimport arrow from \"../../img/arrow.png\";\nimport arrowRight from \"../../img/arrowRight.png\";\nimport \"./styles.css\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Home = () => {\n  const history = useHistory();\n  const [erros, setErros] = useState([]);\n  const [environment, setEnvironment] = useState(\"1\");\n  const [searchBy, setSearchBy] = useState(\"\");\n  const [orderBy, setOrderBy] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const token = localStorage.getItem(\"@@central-accessToken\");\n\n  useEffect(() => {\n    api\n      .get(\"logs?environment=1\", {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((response) => {\n        setErros(response.data);\n      })\n      .catch((e) => {\n        alert(\"ocorreu um erro ao tentar obter os dados\");\n      });\n  }, [token]);\n\n  async function handleSearch() {\n    let url = `logs?environment=${environment}`;\n\n    if (searchBy) url += `&searchBy=${searchBy}`;\n\n    if (orderBy) url += `&orderBy=${orderBy}`;\n\n    if (search) url += `&search=${search}`;\n    try {\n      const response = await api.get(url, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setErros(response.data);\n    } catch (error) {\n      alert(\"ocorreu um erro ao tentar obter os dados\");\n    }\n  }\n\n  function handleDetail(id) {\n    console.log(id);\n    history.push(`/error/${id}`);\n  }\n  return (\n    <>\n      <Header />\n      <div className=\"div-search\">\n        <select onChange={(e) => setEnvironment(e.currentTarget.value)}>\n          <option value=\"1\">Produção</option>\n          <option value=\"2\">Homologação</option>\n          <option value=\"3\">Dev</option>\n        </select>\n        <select onChange={(e) => setOrderBy(e.currentTarget.value)}>\n          <option value=\"\">Ordenar</option>\n          <option value=\"1\">Nivel</option>\n          <option value=\"2\">Frequência</option>\n        </select>\n        <select onChange={(e) => setSearchBy(e.currentTarget.value)}>\n          <option value=\"\">Buscar</option>\n          <option value=\"1\">Level</option>\n          <option value=\"2\">Descrição</option>\n          <option value=\"3\">Origem</option>\n        </select>\n        <InputText\n          type=\"text\"\n          placeholder=\"Pesquisar\"\n          className=\"search-input\"\n          onChange={(e) => setSearch(e.currentTarget.value)}\n        />\n        <Button className=\"button\" name=\"Buscar\" onClick={handleSearch} />\n      </div>\n      <div className=\"container-home\">\n        <div className=\"div-icon\">\n          <span className=\"span-icon\">\n            <img className=\"img-icon\" src={file} alt=\"file\" /> Arquivar\n          </span>\n          <span className=\"span-icon\">\n            <img className=\"img-icon\" src={delet} alt=\"delet\" /> Excluir\n          </span>\n        </div>\n        <div className=\"tbl-error\">\n          <table>\n            <thead>\n              <tr>\n                <th>\n                  <Checkbox />\n                </th>\n                <th>Nivel</th>\n                <th>Origem</th>\n                <th>Data</th>\n                <th>Descrição</th>\n                <th>Eventos</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {erros.map((error) => (\n                <tr>\n                  <td>\n                    <Checkbox />\n                  </td>\n                  <td>{error.level}</td>\n                  <td> {error.host}</td>\n                  <td> {error.createdAt}</td>\n                  <td> {error.description}</td>\n                  <td> {error.event}</td>\n                  <td>\n                    <span\n                      className=\"th-icon\"\n                      onClick={() => handleDetail(error.id)}\n                    >\n                      Exibir\n                    </span>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        <div className=\"div-pages-home\">\n          <span className=\"span-icon-home\">\n            {\" \"}\n            0 - 10\n            <img className=\"img-icon-arrow\" src={arrow} alt=\"arrow\" />\n            <img className=\"img-icon-arrow\" src={arrowRight} alt=\"arrowRight\" />\n          </span>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}